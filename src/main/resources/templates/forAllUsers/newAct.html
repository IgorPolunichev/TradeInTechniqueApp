<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <title>Users</title>
</head>
<body>
<div th:insert="~{componentForUserForm/navBarForUserForm::navBarForUserForm}"></div>

<div class="container-fluid">

    <div th:insert="~{componentForUserForm/newActTop::newActTop}"></div>
    <div th:insert="~{componentForUserForm/newActMiddle::newActMiddle}"></div>

    <div class="row">
        <div class="col">
            <div class="col-2 py-2">
                <div th:insert="~{componentForUserForm/newActAddWorks::newActAddWorks}"></div>
            </div>
            <div class="row px-2">
                <table class='table-sm table-bordered border-primary'>
                    <thead>
                    <tr>
                        <th scope="col">День</th>
                        <th scope="col">Дата</th>
                        <th scope="col">С:</th>
                        <th scope="col">До:</th>
                        <th scope="col">Пауза</th>
                        <th scope="col">Часы</th>
                        <th scope="col">Маршрут</th>
                        <th scope="col">Пробег</th>
                        <th scope="col">Изменить/Удалить</th>
                    </tr>
                    </thead>
                    <tbody id="body-addWorksTable-newAct">
                    </tbody>
                </table>
            </div>
        </div>

        <div class="col" >
            <div class="col py-2">
                <div th:insert="~{componentForUserForm/newActAddParts:: newActAddParts}"></div>
            </div>

            <div class="row py-2 px-2">
                <table class='table-sm table-bordered border-primary' id="partsTable-newAct">
                    <thead>
                    <tr>
                        <th scope="col" style="width: 3%">#</th>
                        <th scope="col" style="width: 17%">Идент номер.</th>
                        <th scope="col" style="width: 50%">Название запчасти</th>
                        <th scope="col" style="width: 15%">Кол-во</th>
                        <th scope="col" style="width: 15%">Владелец</th>
                    </tr>
                    </thead>
                    <tbody id="partsList-newAct">
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div th:insert="~{componentForUserForm/newActEditWorks::newActEditWorks}"></div>
    <div class="row">
        <div class="col-1">
            <button type="button" class="btn btn-primary btn-sm" id="save-newAct">Сохранить акт
            </button>
        </div>
            <div class="col-1">
                <div th:insert="~{componentForUserForm/newActAddFile::newActAddFile}"></div>
            </div>

    </div>
</div>

<!--Окно ошибок валидации нового акта-->
<div class="modal fade" id="exceptionValidate-NewAct" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="exceptionValidate-NewAct-Label" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="exceptionValidate-NewAct-Label">Ошибка при сохранении акта!</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Закрыть"
                        name="exceptionValidate-close-NewAct"></button>
            </div>
            <div class="modal-body">
                <div class="row" th:name="exceptionValidate-bodyModal-NewAct"></div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary btn-sm" data-bs-dismiss="modal" name="exceptionValidate-close-NewAct">Закрыть</button>
            </div>

        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
        crossorigin="anonymous"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
<script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.11.1/jquery.validate.min.js"></script>
<script src="/js/button/forNavBarUser.js" th:src="@{../../static/js/button/forNavBarUser.js}"
        type="text/javascript"></script>
<script src="/js/button/forNewAct.js" th:src="@{../../static/js/button/forNewAct.js}"
        type="text/javascript"></script>
<script src="/js/button/methodsForAll.js" th:src="@{../../static/js/button/methodsForAll.js}"
        type="text/javascript"></script>

</body>
</html>


<!--OLD VERSION !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!-->

<!--<!DOCTYPE html>-->
<!--<html lang="en" xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <title>User</title>-->
<!--</head>-->
<!--<body>-->
<!--<div th:insert="~{fragment :: header}"></div>-->
<!--<form th:action="@{/users/{userId}/update(userId = ${user.getId()})}" method="post">-->
<!--    <label for="username"> Username:-->
<!--        <input id="username" type="text" name="username" th:value="${user.getUserName()}">-->
<!--    </label><br>-->
<!--    <label for="firstname">Firstname:-->
<!--        <input id="firstname" type="text" name="firstname" th:value="${user.getFirstname()}">-->
<!--    </label><br>-->
<!--    <label for="lastname">Lastname:-->
<!--        <input id="lastname" type="text" name="lastname" th:value="${user.getLastname()}">-->
<!--    </label><br>-->
<!--    <label for="surname">Surname:-->
<!--        <input id="surname" type="text" name="surname" th:value="${user.getSurname()}">-->
<!--    </label><br>-->
<!--    <label for="birthDate">Birth date:-->
<!--        <input id="birthDate" type="date" name="birthDate" th:value="${user.getBirthDate()}">-->
<!--    </label><br>-->
<!--    <div th:each="role : ${roles}">-->
<!--        <input th:id="${role}" type="radio" name="role" th:value="${role}" th:checked="${role == user.role}">-->
<!--        <label th:for="${role}" th:text="${role}">Role name</label>-->
<!--    </div>-->
<!--    <br>-->
<!--    <div>-->
<!--        <label for="position">Position-->
<!--            <select id="position" name="position">-->
<!--                <option th:each="position :${positions}"-->
<!--                        th:value="${position.name()}"-->
<!--                        th:selected="${position.name() == user.position.name()}"-->
<!--                        th:text="${position.name()}">Position-->
<!--                </option>-->
<!--            </select>-->
<!--        </label>-->
<!--    </div>-->
<!--    <button type="submit">Update</button>-->
<!--</form>-->
<!--<form th:action="@{/users/{userId}/delete(userId = ${user.getId()})}" th:if="${user.role.name() == 'ADMIN'}" method="post">-->
<!--<button type="submit">Remove</button>-->
<!--</form>-->
<!--</body>-->
<!--</html>-->